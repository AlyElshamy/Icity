@page
@model Icity.Areas.TemplatePages.Pages.mapModel
@{
}
<style>
    #map {
        height: 400px;
        /* The height is 400 pixels */
        width: 100%;
        /* The width is the width of the web page */
    }
</style>
<div id="map"></div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly"
        defer></script>

<script>
    window.addEventListener('load', (event) => {
        console.log('The page has fully loaded');
        //getLocation();
        window.initMap = initMap();
   });
    
    var logitude = 0;
    var latitude = 0;
   

    function getLocation() {
        navigator.geolocation.getCurrentPosition(_fun_get_loc);
    }
    function _fun_get_loc(pos) {
        longitude = pos.coords.longitude;
        latitude = pos.coords.latitude;

        initMap();
        //var url="https://www.google.com/maps?q="+latitude+",+"+longitude;
        //window.open(url,'_blank');
        // location.replace(url);
    }
    //}
    function initMap() {
     

        // The location of Uluru
        const uluru = { lat: 15.1212, lng: 30.1454 };
        // The map, centered at Uluru
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 4, center: uluru,
        });
        // The marker, positioned at Uluru
        const marker = new google.maps.Marker({
            position: uluru,
            map: map,
        });
    }

</script>